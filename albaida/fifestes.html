<!doctype html>
<html lang="ca">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Compte arrere Â· 12 dâ€™octubre</title>
  <meta name="description" content="Compte arrere elegant amb estil tipus app mÃ²bil fins al 12 dâ€™octubre." />
  <style>
    :root {
      --bg-start: #0b1220;
      --bg-end: #121a2b;
      --card: #1b2436;
      --card-2: #222c44;
      --text: #e7edf7;
      --muted: #a7b1c5;
      --accent: #8ab4ff;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
    }
    @media (prefers-color-scheme: light) {
      :root {
        --bg-start: #f6f8ff;
        --bg-end: #e9eefb;
        --card: #ffffff;
        --card-2: #f2f6ff;
        --text: #0f172a;
        --muted: #4b5563;
        --accent: #335dff;
        --shadow: 0 12px 28px rgba(0, 30, 80, .12);
      }
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Noto Sans", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: linear-gradient(160deg, var(--bg-start), var(--bg-end));
      display: grid;
      place-items: center;
    }

    .app {
      width: min(900px, 92vw);
      padding: clamp(18px, 3vw, 28px);
    }

    .frame {
      background: linear-gradient(180deg, var(--card), var(--card-2));
      border-radius: calc(var(--radius) + 6px);
      box-shadow: var(--shadow);
      padding: clamp(18px, 3vw, 26px);
      border: 1px solid rgba(255,255,255,.06);
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: clamp(16px, 2.5vw, 24px);
    }
    .title {
      font-weight: 800;
      letter-spacing: .2px;
      line-height: 1.1;
      font-size: clamp(24px, 4vw, 40px);
    }
    .subtitle { color: var(--muted); font-size: clamp(12px, 1.6vw, 14px); }

    .grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: clamp(10px, 2vw, 16px);
    }
    @media (max-width: 720px) {
      .grid { grid-template-columns: repeat(2, 1fr); }
    }

    .card {
      border-radius: var(--radius);
      background: radial-gradient(120% 140% at 10% 10%, rgba(255,255,255,.06), transparent 50%),
                  linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.08));
      border: 1px solid rgba(255,255,255,.06);
      padding: clamp(14px, 2.2vw, 22px);
      position: relative;
      overflow: hidden;
      min-height: 120px;
      display: grid;
      place-items: center;
      text-align: center;
    }
    .value {
      font-weight: 900;
      font-variant-numeric: tabular-nums; /* alineaciÃ³ vertical perfecta */
      letter-spacing: .5px;
      font-size: clamp(36px, 8vw, 64px);
    }
    .label {
      margin-top: 6px;
      color: var(--muted);
      text-transform: lowercase;
      letter-spacing: .6px;
      font-weight: 600;
      font-size: clamp(12px, 2.2vw, 16px);
    }

    .meta {
      margin-top: clamp(16px, 2.6vw, 22px);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }
    .target { color: var(--muted); }

    .pill {
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(138, 180, 255, .12);
      border: 1px solid rgba(138, 180, 255, .35);
      color: var(--accent);
      font-weight: 700;
      font-size: 13px;
      letter-spacing: .3px;
    }

    footer {
      margin-top: clamp(18px, 3vw, 26px);
      display: flex; justify-content: center;
    }
    .btn {
      appearance: none; border: none; cursor: pointer;
      padding: 12px 16px; border-radius: 12px;
      background: linear-gradient(180deg, var(--card-2), var(--card));
      color: var(--text); font-weight: 700;
      border: 1px solid rgba(255,255,255,.08);
      box-shadow: var(--shadow);
      transition: transform .06s ease, filter .2s ease, background .2s ease;
    }
    .btn:active { transform: translateY(1px) scale(.99); }
    .btn:hover { filter: brightness(1.05); }

    .toast {
      position: fixed; inset-inline: 0; bottom: 18px; margin: auto; width: fit-content;
      background: rgba(0,0,0,.6); color: #fff; backdrop-filter: blur(8px);
      padding: 10px 14px; border-radius: 12px; font-size: 14px;
      opacity: 0; transform: translateY(10px); transition: all .25s ease;
    }
    .toast.show { opacity: 1; transform: translateY(0); }
  </style>
</head>
<body>
  <main class="app">
    <section class="frame" role="group" aria-labelledby="titol">
      <header>
        <div>
          <div class="subtitle">Compteur Â· estil app mÃ²bil</div>
          <h1 id="titol" class="title">Falten <span id="headline-days">â€”</span> dies</h1>
        </div>
        <div class="pill" id="today"></div>
      </header>

      <div class="grid" aria-live="polite">
        <article class="card" aria-label="Dies">
          <div class="value" id="days">â€”</div>
          <div class="label">dies</div>
        </article>
        <article class="card" aria-label="Hores">
          <div class="value" id="hours">â€”</div>
          <div class="label">hores</div>
        </article>
        <article class="card" aria-label="Minuts">
          <div class="value" id="minutes">â€”</div>
          <div class="label">minuts</div>
        </article>
        <article class="card" aria-label="Segons">
          <div class="value" id="seconds">â€”</div>
          <div class="label">segons</div>
        </article>
      </div>

      <div class="meta">
        <div class="target">per al <strong>12 dâ€™octubre</strong></div>
        <div class="pill" id="tz"></div>
      </div>

      <footer>
        <button class="btn" id="install">Afegir a lâ€™inici (PWA)</button>
      </footer>
    </section>
  </main>

  <div class="toast" id="toast">Hui Ã©s 12 dâ€™octubre! ðŸŽ‰</div>

  <script>
    // Objectiu: 12 d'octubre de l'any actual (si ja ha passat, l'any segÃ¼ent)
    function targetDate() {
      const now = new Date();
      const year = now.getMonth() > 9 || (now.getMonth() === 9 && now.getDate() > 12)
        ? now.getFullYear() + 1
        : now.getFullYear();
      // 12 d'octubre, 00:00:00 hora local
      return new Date(year, 9, 12, 0, 0, 0, 0);
    }

    const $ = (id) => document.getElementById(id);
    const dEl = $("days"), hEl = $("hours"), mEl = $("minutes"), sEl = $("seconds");

    function pad(n) { return String(n).padStart(2, "0"); }

    function tick() {
      const now = new Date();
      const tgt = targetDate();
      const diff = tgt - now;

      const tz = Intl.DateTimeFormat().resolvedOptions().timeZone || "Local";
      $("tz").textContent = tz;
      $("today").textContent = new Intl.DateTimeFormat(undefined, { dateStyle: "full" }).format(now);

      if (diff <= 0) {
        dEl.textContent = hEl.textContent = mEl.textContent = sEl.textContent = "00";
        $("headline-days").textContent = "0";
        showToast();
        return; // no programem mÃ©s, ja hem arribat
      }

      const totalSeconds = Math.floor(diff / 1000);
      const days = Math.floor(totalSeconds / 86400);
      const hours = Math.floor((totalSeconds % 86400) / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;

      dEl.textContent = days;
      hEl.textContent = pad(hours);
      mEl.textContent = pad(minutes);
      sEl.textContent = pad(seconds);
      $("headline-days").textContent = days;
    }

    let timer = setInterval(tick, 1000);
    tick();

    // Toast quan arribe el dia
    function showToast() {
      const t = $("toast");
      t.classList.add("show");
      setTimeout(() => t.classList.remove("show"), 4000);
      clearInterval(timer);
    }

    // PWA instalÂ·lable bÃ sica (deferred prompt)
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      $("install").style.display = 'inline-flex';
    });
    $("install").addEventListener('click', async () => {
      if (!deferredPrompt) return;
      deferredPrompt.prompt();
      await deferredPrompt.userChoice; // ignorar resultat; nomÃ©s mostrar flux nadiu
      deferredPrompt = null;
    });
  </script>
</body>
</html>


